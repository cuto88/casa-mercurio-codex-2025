title: "1 Ventilazione"
path: ventilation
icon: mdi:fan-auto
type: panel

cards:
  - type: vertical-stack
    cards:
      # BLOCCO 1 — Stato VMC
      - type: entities
        title: "VMC — Stato generale"
        show_header_toggle: false
        entities:
          - entity: sensor.vmc_priority
            name: Priorità VMC
          - entity: sensor.vmc_reason
            name: Motivo / Azione
          - entity: binary_sensor.vmc_failsafe_sensors_bad
            name: Failsafe sensori
          - entity: sensor.vmc_freecooling_status
            name: Stato freecooling
          - entity: switch.vmc_vel_0
          - entity: switch.vmc_vel_1
          - entity: switch.vmc_vel_2
          - entity: switch.vmc_vel_3

      # BLOCCO 2 — Consigli finestre
      - type: entities
        title: "Consigli finestre"
        show_header_toggle: false
        entities:
          - entity: binary_sensor.vent_recommend_open
            name: "Suggerimento: apri finestre"
          - entity: binary_sensor.vent_recommend_close
            name: "Suggerimento: chiudi finestre"
          - entity: binary_sensor.vent_condizioni_meteo_ok
            name: "Meteo ok"
          - entity: binary_sensor.vent_condizioni_termiche_ok
            name: "ΔT / ΔAH ok"
          - entity: sensor.delta_t_in_out
            name: "ΔT in-out (°C)"
          - entity: sensor.delta_ah_in_out
            name: "ΔAH in-out (g/m³)"

      # BLOCCO 3 — Meteo & qualità aria
      - type: entities
        title: "Meteo / AQ"
        show_header_toggle: false
        entities:
          - entity: weather.casa
          - entity: sensor.vent_meteo_pm25
          - entity: binary_sensor.vent_pioggia
          - entity: binary_sensor.vent_vento_blocco
          - entity: binary_sensor.vent_air_quality_ok

      # BLOCCO 4 — Trend 24h
      - type: history-graph
        title: "Trend 24h — T e AH"
        hours_to_show: 24
        refresh_interval: 60
        entities:
          - entity: sensor.t_in_media
            name: "T interna media"
          - entity: sensor.t_out
            name: "T esterna"
          - entity: sensor.ah_in
            name: "AH interna"
          - entity: sensor.ah_out
            name: "AH esterna"
