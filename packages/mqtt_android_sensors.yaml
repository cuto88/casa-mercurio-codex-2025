# Duplica i blocchi cambiando phone e state_topic (es. phone2..phone6).
mqtt:
  sensor:
    - name: "android_phone1_battery_level"
      unique_id: android_phone1_battery_level
      state_topic: "android/phone1/battery"
      value_template: "{{ value_json.level }}"
      unit_of_measurement: "%"
      device_class: battery
      state_class: measurement

    - name: "android_phone1_battery_temperature"
      unique_id: android_phone1_battery_temperature
      state_topic: "android/phone1/battery"
      value_template: "{{ value_json.temperature }}"
      unit_of_measurement: "Ã‚°C"
      device_class: temperature
      state_class: measurement

    - name: "android_phone1_battery_status"
      unique_id: android_phone1_battery_status
      state_topic: "android/phone1/battery"
      value_template: "{{ value_json.status }}"

  binary_sensor:
    - name: "android_phone1_battery_plugged"
      unique_id: android_phone1_battery_plugged
      state_topic: "android/phone1/battery"
      # ON se collegato alla rete, OFF quando "UNPLUGGED"
      value_template: "{{ 'ON' if value_json.plugged != 'UNPLUGGED' else 'OFF' }}"
