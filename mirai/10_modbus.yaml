# MIRAI Modbus hub and primary telemetry registers.
# Host/port are set to a safe default; adjust them in HA if the controller is reachable.
- name: mirai
  type: tcp
  host: 127.0.0.1
  port: 5020
  delay: 2
  timeout: 3
  retry_on_empty: true
  close_comm_on_error: true
  sensors:
    - name: "MIRAI status word raw"
      unique_id: mirai_status_word_raw
      address: 4000
      input_type: holding
      data_type: uint16
      unit: 1
      scan_interval: 15

    - name: "MIRAI status code raw"
      unique_id: mirai_status_code_raw
      address: 4001
      input_type: holding
      data_type: uint16
      unit: 1
      scan_interval: 15

    - name: "MIRAI status word legacy"
      unique_id: mirai_status_word_legacy_raw
      address: 1003
      input_type: holding
      data_type: uint16
      unit: 1
      scan_interval: 30

    - name: "MIRAI status detail raw"
      unique_id: mirai_status_detail_raw
      address: 1208
      input_type: holding
      data_type: uint16
      unit: 1
      scan_interval: 30

    - name: "MIRAI fault code raw"
      unique_id: mirai_fault_code_raw
      address: 1209
      input_type: holding
      data_type: uint16
      unit: 1
      scan_interval: 30
