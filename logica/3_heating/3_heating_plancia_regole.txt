###############################################################################
# 3_heating_plancia_regole.txt — Documentazione layout plancia 3_HEATING
# Riferimento per lovelace/3_heating_plancia.yaml (impianto a pavimento).
###############################################################################

COLONNA 1 — STATO & COMANDI
- Glance "Stato logiche": binary_sensor.heating_should_run, heating_finestra_oraria, heating_esterna_fredda, heating_almeno_una_stanza_sotto_target e lock ON/OFF.
- Markdown "Come decide" (sintesi) — vedi sotto.
- Pulsanti button/tile: abilitazione impianto, force on/off, pacchetto manuale con input_boolean.heating_manual_active, input_select.heating_manual_mode e timer.
- Tile finale su switch.4_ch_interrutore_3 per interruttore generale fisico.

COLONNA 2 — KPI & SELEZIONE STANZE
- Tile con grafico per sensor.t_in_media, sensor.t_in_min, sensor.t_out, input_number.temp_target_risc e sensor.heating_minuti_da_ultimo_cambio.
- Entities "Stanze incluse" con toggle input_boolean.heating_use_* + riepilogo sensor.heating_stanze_attive.

COLONNA 3 — TREND, STATISTICHE & SOGLIE
- History-graph 24h su temperature stanza/esterna (inclusa sensor.t_in_media) e decisioni logiche (should_run, finestra, esterna fredda, sotto target, lock min on/off).
- Statistics-graph 7gg temperature (mean/min/max) e 30gg ore ON (input_number.heating_hours_on_daily).
- Entities "Soglie & Lock" per input_datetime finestra, target, tolleranza, soglie esterne e timer min_on/min_off.

COLONNA 4 — DIAGNOSTICA
- Entity-filter per evidenziare stati unknown/unavailable su sensori base e attuatori.
- Sezione dedicata nel file per espandere facilmente altri controlli.

NOTE
- Tutti gli entity_id provengono da packages/3_heating.yaml e 0_sensors.yaml.
- Pulsanti manuali rispettano la logica di override introdotta nel pacchetto.
- Layout mobile-first (sections) coerente con Regole Plancia core.

COME DECIDE (SINTESI)
- Gestisce il pavimento per portare le zone al T_target rispettando la finestra 10–16.
- Applica lock min_on/min_off per sfruttare l’inerzia ed evitare cicli brevi.
- Può anticipare la partenza se c’è surplus PV (pre-carica), altrimenti limita le accensioni.

Per il dettaglio logico:
- core/regole_core_logiche.md → sezione "Heating — Pavimento, lock e priorità"
- 3_heating/3_heating.txt → configurazione specifica Casa Mercurio

RIFERIMENTI LOGICI
- Logiche condivise: vedi core/regole_core_logiche.md
- Linee guida UI generali: vedi core/regole_plancia.md
- Logica specifica modulo: vedi 3_heating.txt
